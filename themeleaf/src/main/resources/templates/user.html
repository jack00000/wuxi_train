<html>
<html xmlns:th="http://www.thymeleaf.org">
<script src="http://how2j.cn/study/js/jquery/2.0.0/jquery.min.js"></script>
<link href="http://how2j.cn/study/css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
<script src="http://how2j.cn/study/js/bootstrap/3.3.6/bootstrap.min.js"></script>

<script>
    var wangzhichao = {
        stus: [{
            id: "001",
            name: "wzc",
            age: 18
        }, {
            id: "002",
            name: "zzw",
            age: 19
        }, {
            id: "003",
            name: "cyf",
            age: 19

        }, {
            id: "004",
            name: "dhl",
            age: 16
        }],
        del_studbyId: function(id) {
            //-------------删除方法
            for (var n = 0; n < this.stus.length; n++) {
                if (this.stus[n].id == id) {
                    this.stus.splice(n, 1);
                    break;
                }
            }
        },
        ths: ["学号", "姓名", "年龄", "操作"],
        tds: ["id", "name", "age"],
        init: function() {
            var body = document.body;
            var div1 = document.createElement("div");
            div1.setAttribute("class", "container");
            var div2 = document.createElement("div");
            div2.setAttribute("class", "row");
            var div3 = document.createElement("div");
            div3.setAttribute("class", "col-md-6 col-md-push-3");
            body.appendChild(div1);
            div1.appendChild(div2);
            div2.appendChild(div3);

            var table = document.createElement("table");
            var table_position=document.getElementById("table_positon");
            table_position.appendChild(table);
            table.setAttribute("class", "table table-bordered");

            var tr = document.createElement("tr");
            table.appendChild(tr);
            for (var i = 0; i < this.ths.length; i++) {

                var th = document.createElement("th");
                th.setAttribute("class", "text-center");
                th.innerHTML = this.ths[i];
                th.style.border = "1px solid #ddd";
                tr.appendChild(th);
            }

            for (var j = 0; j < this.stus.length; j++) {

                var tr1 = document.createElement("tr");
                /* tr1.onmouseover=function(){
                     tr1.style.backgroundColor = "red";

                 }*/
                tr1.onmouseover = (function(tr1) {
                    // alert("----------");
                    //  tr1.style.backgroundColor = "red";
                    return function() {
                        tr1.style.backgroundColor = "#f5f5f5";

                    };
                })(tr1);
                tr1.onmouseout = (function(tr1) {

                    return function() {

                        tr1.style.backgroundColor = "#f9f9f9";
                    }
                })(tr1);
                // if(j)
                table.appendChild(tr1);
                for (var k = 0; k < this.tds.length; k++) {

                    var td = document.createElement("td");
                    //  if (j % 3 == 0) td.style.backgroundColor = "#f9f9f9";
                    td.setAttribute("class", "text-center");
                    td.style.border = "1px solid #ddd";
                    td.innerHTML = this.stus[j][this.tds[k]];
                    tr1.appendChild(td);
                }
                var td_last = document.createElement("td");
                // if (j % 3 == 0) td_last.style.backgroundColor = "#f9f9f9";
                td_last.setAttribute("class", "text-center");
                var button = document.createElement("button");
                button.setAttribute("class", "btn btn-sm btn-danger");
                button.innerHTML = "删除";
                tr1.appendChild(td_last);
                td_last.style.border = "1px solid #ddd";
                td_last.appendChild(button);

                button.onclick = function(event) {

                    var target = event.target;
                    var del_target = target.parentNode.parentNode;

                    var stuid = del_target.firstChild.textContent;
                    alert(stuid);
                    table.removeChild(del_target);
                    wangzhichao.del_studbyId(stuid);
                    //————调用方法

                }
                console.info(this.stus);
            }
        }
    };

    window.onload = function() {

        wangzhichao.init();

    }

</script>

<body>
  <div class="container">
	  <div class="row clearfix">
		  <div class="col-md-12 column">
			  <nav class="navbar navbar-default" role="navigation">
				  <div class="navbar-header">
					  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="#">Brand</a>
				  </div>

				  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					  <ul class="nav navbar-nav">
						  <li class="active">
							  <a href="#">Link</a>
						  </li>
						  <li>
							  <a href="#">Link</a>
						  </li>
						  <li class="dropdown">
							  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong class="caret"></strong></a>
							  <ul class="dropdown-menu">
								  <li>
									  <a href="#">Action</a>
								  </li>
								  <li>
									  <a href="#">Another action</a>
								  </li>
								  <li>
									  <a href="#">Something else here</a>
								  </li>
								  <li class="divider">
								  </li>
								  <li>
									  <a href="#">Separated link</a>
								  </li>
								  <li class="divider">
								  </li>
								  <li>
									  <a href="#">One more separated link</a>
								  </li>
							  </ul>
						  </li>
					  </ul>
					  <form class="navbar-form navbar-left" role="search">
						  <div class="form-group">
							  <input type="text" class="form-control" />
						  </div> <button type="submit" class="btn btn-default">Submit</button>
					  </form>
					  <ul class="nav navbar-nav navbar-right">
						  <li>
							  <a href="#">Link</a>
						  </li>
						  <li class="dropdown">
							  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong class="caret"></strong></a>
							  <ul class="dropdown-menu">
								  <li>
									  <a href="#">Action</a>
								  </li>
								  <li>
									  <a href="#">Another action</a>
								  </li>
								  <li>
									  <a href="#">Something else here</a>
								  </li>
								  <li class="divider">
								  </li>
								  <li>
									  <a href="#">Separated link</a>
								  </li>
							  </ul>
						  </li>
					  </ul>
				  </div>

			  </nav>
			  <div class="row clearfix">
				  <div class="col-md-6 column">
					  <form role="form" action="#" th:action="@{/user}" th:object="${user}" method="post">
						  <div class="form-group ">
							  <p>name: <input class="form-control" type="text" th:field="*{name}" /></p>
						  </div>
						  <div class="form-group ">
							  <p>password: <input class="form-control" type="text" th:field="*{password}" /></p>
						  </div>
						 <button type="submit" class="btn btn-default">Submit</button>
					  </form>
				  </div>
				  <div class="col-md-6 column">
					  <div id="table_positon" class=" col-md-push-6">
				  </div>
			  </div>
		  </div>
	  </div>
  </div>

  </body>

</html>